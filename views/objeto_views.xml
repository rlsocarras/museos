<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Formulario de Objeto -->
    <record id="view_museo_objeto_form" model="ir.ui.view">
        <field name="name">museo.objeto.form</field>
        <field name="model">museo.objeto</field>
        <field name="arch" type="xml">
            <form string="Objeto del Museo">
                <header>
                    <button name="%(action_museo_museo)d" type="action" string="Museos" class="btn-secondary"/>
                    <field name="active" widget="boolean_toggle"/>
                </header>
                <sheet>
                    <div class="oe_title">
                        <h1>
                            <field name="name" placeholder="Nombre del Objeto"/>
                        </h1>
                        <h2>
                            <field name="codigo_inventario"/>
                        </h2>
                    </div>
                    <group>
                        <group>
                            <field name="museo_id"/>
                            <field name="categoria"/>
                            <field name="estado_conservacion"/>
                            <field name="fecha_adquisicion" widget="date"/>
                            <field name="valor_estimado"/>
                        </group>
                        <group>
                            <field name="ubicacion_actual"/>
                            <field name="imagen" widget="image" class="oe_avatar"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Historia">
                            <field name="historia" widget="html" nolabel="1"/>
                        </page>
                        <page string="Observaciones">
                            <field name="observaciones" widget="textarea" nolabel="1"/>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Lista de Objetos -->
    <record id="view_museo_objeto_tree" model="ir.ui.view">
        <field name="name">museo.objeto.tree</field>
        <field name="model">museo.objeto</field>
        <field name="arch" type="xml">
            <list string="Objetos" decoration-muted="active == False">
                <field name="codigo_inventario"/>
                <field name="name"/>
                <field name="museo_id"/>
                <field name="categoria"/>
                <field name="estado_conservacion"/>
                <field name="ubicacion_actual"/>
                <field name="active" invisible="1"/>
            </list>
        </field>
    </record>

    <!-- Búsqueda de Objetos -->
    <record id="view_museo_objeto_search" model="ir.ui.view">
        <field name="name">museo.objeto.search</field>
        <field name="model">museo.objeto</field>
        <field name="arch" type="xml">
            <search string="Buscar Objetos">
                <field name="name"/>
                <field name="codigo_inventario"/>
                <field name="museo_id"/>
                <field name="categoria"/>
                <separator/>
                <filter string="Excelente Conservación" name="excelente" domain="[('estado_conservacion', '=', 'excelente')]"/>
                <filter string="En Restauración" name="restauracion" domain="[('estado_conservacion', '=', 'restauracion')]"/>
                <group expand="0" string="Agrupar por">
                    <filter string="Museo" name="grupo_museo" context="{'group_by': 'museo_id'}"/>
                    <filter string="Categoría" name="grupo_categoria" context="{'group_by': 'categoria'}"/>
                    <filter string="Estado Conservación" name="grupo_estado" context="{'group_by': 'estado_conservacion'}"/>
                </group>
            </search>
        </field>
    </record>

    <!-- Acción para Objetos -->
    <record id="action_museo_objeto" model="ir.actions.act_window">
        <field name="name">Objetos del Museo</field>
        <field name="res_model">museo.objeto</field>
        <field name="view_mode">kanban,list,form</field>
    </record>
</odoo>